!function(a){var b=angular.module("JavaModelo",["ng"]);b.config(["$httpProvider",function(a){a.interceptors.push("LoginInter"),a.interceptors.push("HostInter"),a.defaults.headers.common["X-Requested-With"]="XMLHttpRequest"}]),b.service("entidades",[function(){return{}}]),b.provider("ResourceService",[function(){var a=this;a.defaults={size:20,page:0,url:null},this.$get=["$http","$q","context","entidades",function(b,c,d,e){function f(){this.equal="=",this.notEqual="!=",this.lowerThanOrEqualTo="<=",this.greaterThanOrEqualTo=">=",this.lowerThan="<",this.greaterThan=">",this.notLike="notlike",this.like="like",this.size=a.defaults.size,this.page=a.defaults.page,this.url=a.defaults.url}function g(a,b){b=b||{},this._entidadeNome=a,this.size=b.size||this.size,this.page=b.page||this.page,this.url=b.url||this.url+"/"+this._entidadeNome}function h(a){a||(a={}),this._size=a.size||0,this._page=a.page||0,this._order=[],this._join=[],this._url=a.url||"",this._param=[]}null===a.defaults.url&&(a.defaults.url=d.services+"/persistencia"),g.prototype=new f;var i=g.prototype;i.query=function(a){a=angular.extend({},this,a);var b=new h(a);a.url?b._url=a.url:b._url+=this._entidadeNome;var c=a.entidades;if(c instanceof Array)for(var d in c)b.param(d,this.equal,c[d]);else for(var d in a)d in this||b.param(d,this.equal,a[d]);return b};var i=h.prototype;i.order=function(a){if(a instanceof Array)for(var b in a){var c=a[b];"string"==typeof c&&this._order.push(arguments[b])}else"string"==typeof a&&this._order.push(a);return this},i.size=function(a){return"number"==typeof a&&(this._size=a),this},i.page=function(a){return"number"==typeof a&&(this._page=a),this},i.join=function(a){if(a instanceof Array)for(var b in a){var c=a[b];"string"==typeof c&&this._join.push(arguments[b])}else"string"==typeof a&&this._join.push(a);return this},i.param=function(a,b,c,d,e){return a?(d?"&"!==d&&"|"!==d&&(d="|"):d="&",void 0===e?(0!==c.indexOf('"')&&0!==c.indexOf("'")&&(c='"'+c),c.lastIndexOf('"')!==c.length-1&&c.lastIndexOf("'")!==c.length-1&&(c+='"')):e&&(c='"'+c+'"'),this._param.push(a+" "+b+" "+c+d),this):null},i.get=function(a){var c="";for(var d in this._param)c+=this._param[d];c=c.replace(/[&\|\s]+$/,""),c&&(c="?"+c);var e=["size="+this._size,"page="+this._page];return this._join.length>0&&e.push("join="+this._join.join(",")),this._order.length>0&&e.push("order="+this._order.join(",")),e=e.join(";"),e&&(e=";"+e),b.get(this._url+e+c)};var j={entidade:function(a,b){return e[a]=new g(a,b),e[a]}};return j}]}]),b.provider("HostInter",[function(){var a=this;a.use=!1,a.url="",a.$get=["context",function(b){var c={request:function(c){return a.use&&(c.url=a.url+b.services+c.url),c}};return c}]}]),b.provider("LoginInter",[function(){var a=this;a.url="/login.jsp",a.ERRORCODE_LOGIN=401,a.$get=["context","$window",function(b,c){var d={response:function(d){if(d.data&&d.data.code===a.ERRORCODE_LOGIN){var e=c.location.origin;c.location=e+b.services+a.url}return d}};return d}]}]),b.provider("context",[function(){function a(a,c,d){if(!a)return"";if("string"!=typeof a)throw"To configure the context url string you must pass a string as the first parameter value.";return"undefined"==typeof c&&(c=!0),a=a.trim(),c?0!==a.indexOf("/")&&(a="/"+a):0===a.indexOf("/")&&(a=a.substring(1,a.length)),d?a.lastIndexOf("/")!==a.length-1&&(a+="/"):a.lastIndexOf("/")===a.length-1&&(a=a.substring(0,a.length-1)),b(a)}function b(a){return a.replace(/\/\//g,"/")}var c=this,d={root:function(){return c.context.root=a.apply(this,arguments),c.context.services=b(c.context.root+c.context.path.services),c.context.websocket=b(c.context.root+c.context.path.websocket),c},services:function(){return c.context.services=b(c.context.root+(c.context.path.services=a.apply(this,arguments))),c},websocket:function(){return c.context.websocket=b(c.context.root+(c.context.path.websocket=a.apply(this,arguments))),c},put:function(b){return c.context[b]=a.call(this,arguments[1],arguments[2],arguments[3]),c},context:{root:"",path:{}}};angular.extend(this,d),this.$get=[function(){return c.context}]}])}(window);