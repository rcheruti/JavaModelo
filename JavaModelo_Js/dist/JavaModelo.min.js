!function(a){var b=angular.module("JavaModelo",["ng"]);b.config(["$httpProvider",function(a){a.interceptors.push("LoginInter"),a.interceptors.push("HostInter")}]),b.provider("ResourceService",[function(){var a=this;this.defaults={size:20,page:0,url:"/s/persistence/"},this.$get=["$http","$q","context",function(b,c,d){function e(){this.equal="=",this.notEqual="!=",this.lowerThanOrEqualTo="<=",this.greaterThanOrEqualTo=">=",this.lowerThan="<",this.greaterThan=">",this.notLike="notlike",this.like="like",this.size=a.defaults.size,this.page=a.defaults.page,this.url=d+a.defaults.url}function f(a,b){this._etidadeNome=a,b&&(this.defaults=b)}function g(a){this._size=a.size,this._page=a.page,this._order=[],this._join=[],this._url=a.url,this._param=[],this.config=a}f.prototype=new e,f.prototype.query=function(a){var b=new g;b.size(a.size),b.page(a.page),a.url?b._url=a.url:b._url+=this._etidadeNome;var c=a.entidades;if(c instanceof Array)for(var d in c)b.param(d,this.equal,c[d]);else for(var d in a)"size"!==d&&"page"!==d&&"url"!==d&&b.param(d,this.equal,a[d]);return b},g.prototype.order=function(a){if(a instanceof Array)for(var b in a){var c=a[b];"string"==typeof c&&this._order.push(arguments[b])}else"string"==typeof a&&this._order.push(a);return this},g.prototype.size=function(a){return"number"==typeof a&&(this._size=a),this},g.prototype.page=function(a){return"number"==typeof a&&(this._page=a),this},g.prototype.join=function(a){if(a instanceof Array)for(var b in a){var c=a[b];"string"==typeof c&&this._join.push(arguments[b])}else"string"==typeof a&&this._join.push(a);return this},g.prototype.param=function(a,b,c,d,e){return a?(d?"&"!==d&&"|"!==d&&(d="|"):d="&",void 0===e?(0!==c.indexOf('"')&&0!==c.indexOf("'")&&(c='"'+c),c.lastIndexOf('"')!==c.length-1&&c.lastIndexOf("'")!==c.length-1&&(c+='"')):e&&(c='"'+c+'"'),this._param.push(a+" "+b+" "+c+d),this):null},g.prototype.get=function(a){this.param(a);var c="";for(var d in this._param)c+=this._param[d];c.replace(/[&\|]+\s*$/,""),c&&(c="?"+c);var e=["size="+this._size,"page="+this._page];return this._join.length>0&&e.push("join="+this._join.join(",")),this._order.length>0&&e.push("join="+this._order.join(",")),e=e.join(";"),e&&(e=";"+e),b.get(this._url+e+c)};var h={entidade:function(a){new f(a)}};return h}]}]),b.provider("HostInter",[function(){var a=this;a.use=!0,a.url="",a.$get=["context",function(b){var c={request:function(c){return a.use&&(c.url=a.url+b+c.url),console.log("Requisição para ",c.url),c}};return c}]}]),b.provider("LoginInter",[function(){var a=this;a.url="/login.jsp",a.ERRORCODE_LOGIN=401,a.$get=["context","$window",function(b,c){var d={response:function(d){if(d.data&&d.data.code===a.ERRORCODE_LOGIN){var e=c.location.origin;c.location=e+b+a.url}return d}};return d}]}]),b.provider("context",[function(){var a="";this.context=function(b,c,d){if("undefined"==typeof b)return a;if("string"!=typeof b)throw"To configure the context url string you must pass a string as the first parameter value.";return"undefined"==typeof c&&(c=!0),b=b.trim(),c?0!==b.indexOf("/")&&(b="/"+b):0===b.indexOf("/")&&(b=b.substring(1,b.length)),d?b.lastIndexOf("/")!==b.length-1&&(b+="/"):b.lastIndexOf("/")===b.length-1&&(b=b.substring(0,b.length-1)),a=b},this.$get=[function(){return a}]}])}(window);